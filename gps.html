<!DOCTYPE html>
<html>
<link rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<link rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script src="https://cdn.jsdelivr.net/react/0.14.0-rc1/react.js"></script>
<script src="https://cdn.jsdelivr.net/react/0.14.0-rc1/react-dom.js"></script>

<script>
var PRE = React.createFactory('pre');
var DIV = React.createFactory('div');

var JSONView = React.createFactory(React.createClass({
    render: function() {
        return PRE(null,
                   JSON.stringify(this.props.obj, null, 4));
    }
}));

var App = React.createFactory(React.createClass({
    render: function() {
        return DIV(null,
                   JSONView({obj: this.props.coords}, null));
    }
}));

function onload() {
    navigator.geolocation.getCurrentPosition(function (pos) {
        var coords = {
            latitude: pos.coords.latitude,
            longitude: pos.coords.longitude,
            accuracy: pos.coords.accuracy};

        ReactDOM.render(App({coords: coords}, null), document.body);
    });
}
</script>

<head>
  <meta name = "viewport"
        content = "width = device-width,
                   initial-scale = 1.0,
                   maximum-scale = 1.0,
                   user-scalable = no">
</head>

<body onload="onload()"><h1 align="center">Loading...</h1></body>
</html>
